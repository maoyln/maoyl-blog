<h1 id="js随机打乱数组">JS随机打乱数组</h1>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">shuffle</span><span class="p">(</span><span class="nx">arr</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// 随机打乱数组</span>
  <span class="kd">let</span> <span class="nx">_arr</span> <span class="o">=</span> <span class="nx">arr</span><span class="p">.</span><span class="nx">slice</span><span class="p">()</span> <span class="c1">// 调用数组副本，不改变原数组</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">_arr</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">j</span> <span class="o">=</span> <span class="nx">getRandomInt</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span>
    <span class="kd">let</span> <span class="nx">t</span> <span class="o">=</span> <span class="nx">_arr</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span>
    <span class="nx">_arr</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="nx">_arr</span><span class="p">[</span><span class="nx">j</span><span class="p">]</span>
    <span class="nx">_arr</span><span class="p">[</span><span class="nx">j</span><span class="p">]</span> <span class="o">=</span> <span class="nx">t</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">_arr</span>
<span class="p">}</span>
<span class="kd">function</span> <span class="nx">getRandomInt</span><span class="p">(</span><span class="nx">min</span><span class="p">,</span> <span class="nx">max</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// 获取min到max的一个随机数，包含min和max本身</span>
  <span class="k">return</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="p">(</span><span class="nx">max</span> <span class="o">-</span> <span class="nx">min</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="nx">min</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<!-- ## vue demo
::: demo

```html
<template>
  <div>
    原数组：
    <button @click="clickBut">click me！打乱数组</button></br></br>
    打乱结果：
  </div>
</template>

<script>
  export default {
    data(){
      return {
        arr: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9],
        result: []
      }
    },
    methods:{
      clickBut(){
        this.result = this.shuffle(this.arr)
      },
      shuffle(arr) { // 随机打乱数组
        let _arr = arr.slice() // 调用数组副本，不改变原数组
        for (let i = 0; i < _arr.length; i++) {
          let j = this.getRandomInt(0, i)
          let t = _arr[i]
          _arr[i] = _arr[j]
          _arr[j] = t
        }
        return _arr
      },
      getRandomInt(min, max) { // 获取min到max的一个随机数，包含min和max本身
        return Math.floor(Math.random() * (max - min + 1) + min)
      }
    }
  }
</script>
```
::: -->

<p>::: demo [vanilla]</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;html&gt;</span>
  原数组：<span class="nt">&lt;span</span> <span class="na">id=</span><span class="s">"span1"</span><span class="nt">&gt;&lt;/span&gt;</span>
  <span class="nt">&lt;button</span> <span class="na">id=</span><span class="s">"btn"</span><span class="nt">&gt;</span>click me！打乱数组<span class="nt">&lt;/button&gt;</span> <span class="nt">&lt;/br&gt;&lt;/br&gt;</span>
  打乱结果：<span class="nt">&lt;span</span> <span class="na">id=</span><span class="s">"span2"</span><span class="nt">&gt;&lt;/span&gt;</span>
<span class="nt">&lt;/html&gt;</span>
<span class="nt">&lt;script&gt;</span>
    <span class="kd">function</span> <span class="nx">getRandomInt</span><span class="p">(</span><span class="nx">min</span><span class="p">,</span> <span class="nx">max</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// 获取min到max的一个随机数，包含min和max本身</span>
      <span class="k">return</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="p">(</span><span class="nx">max</span> <span class="o">-</span> <span class="nx">min</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="nx">min</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="kd">function</span> <span class="nx">shuffle</span><span class="p">(</span><span class="nx">arr</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// 随机打乱数组</span>
      <span class="kd">let</span> <span class="nx">_arr</span> <span class="o">=</span> <span class="nx">arr</span><span class="p">.</span><span class="nx">slice</span><span class="p">()</span> <span class="c1">// 调用数组副本，不改变原数组</span>
      <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">_arr</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">let</span> <span class="nx">j</span> <span class="o">=</span> <span class="nx">getRandomInt</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span>
        <span class="kd">let</span> <span class="nx">t</span> <span class="o">=</span> <span class="nx">_arr</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span>
        <span class="nx">_arr</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="nx">_arr</span><span class="p">[</span><span class="nx">j</span><span class="p">]</span>
        <span class="nx">_arr</span><span class="p">[</span><span class="nx">j</span><span class="p">]</span> <span class="o">=</span> <span class="nx">t</span>
      <span class="p">}</span>
      <span class="k">return</span> <span class="nx">_arr</span>
    <span class="p">}</span>

    <span class="c1">//使用</span>
    <span class="kd">function</span> <span class="nx">$</span><span class="p">(</span><span class="nx">el</span><span class="p">){</span>
      <span class="k">return</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="nx">el</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="kd">let</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">];</span>
    <span class="kd">const</span> <span class="nx">$span2</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#span2</span><span class="dl">'</span><span class="p">);</span>

    <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#span1</span><span class="dl">'</span><span class="p">).</span><span class="nx">textContent</span> <span class="o">=</span> <span class="nx">arr</span><span class="p">;</span>
    <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#btn</span><span class="dl">'</span><span class="p">).</span><span class="nx">onclick</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
      <span class="nx">$span2</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="nx">shuffle</span><span class="p">(</span><span class="nx">arr</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="nt">&lt;/script&gt;</span>
</code></pre></div></div>
<p>:::</p>
