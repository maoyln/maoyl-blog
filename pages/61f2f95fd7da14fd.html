<h1 id="npm常用命令">npm常用命令</h1>

<h2 id="简介">简介</h2>

<p>npm是跟随node一起安装的包（模块）管理器。常见的使用场景有以下几种：</p>

<ul>
  <li>允许用户从npm服务器下载别人编写的第三方包到本地使用。</li>
  <li>允许用户从npm服务器下载并安装别人编写的命令行程序到本地使用。</li>
  <li>允许用户将自己编写的包或命令行程序上传到npm服务器供别人使用。</li>
</ul>

<!-- more -->

<h2 id="常用命令">常用命令</h2>

<h4 id="检测是否安装及版本">检测是否安装及版本</h4>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm <span class="nt">-v</span> <span class="c"># 显示版本号说明已经安装相应的版本</span>
</code></pre></div></div>

<h4 id="生成packagejson文件">生成package.json文件</h4>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm init
</code></pre></div></div>

<blockquote>
  <p>package.json用来描述项目中用到的模块和其他信息</p>
</blockquote>

<h4 id="安装模块">安装模块</h4>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm <span class="nb">install</span> <span class="c"># 安装package.json定义好的模块，简写 npm i</span>

<span class="c"># 安装包指定模块</span>
npm i &lt;ModuleName&gt;

<span class="c"># 全局安装</span>
npm i &lt;ModuleName&gt; <span class="nt">-g</span> 

<span class="c"># 安装包的同时，将信息写入到package.json中的 dependencies 配置中</span>
npm i &lt;ModuleName&gt; <span class="nt">--save</span>

<span class="c"># 安装包的同时，将信息写入到package.json中的 devDependencies 配置中</span>
npm i &lt;ModuleName&gt; <span class="nt">--save-dev</span>

<span class="c"># 安装多模块</span>
npm i &lt;ModuleName1&gt; &lt;ModuleName2&gt;

<span class="c"># 安装方式参数：</span>
<span class="nt">-save</span> <span class="c"># 简写-S，加入到生产依赖中</span>
<span class="nt">-save-dev</span> <span class="c"># 简写-D，加入到开发依赖中</span>
<span class="nt">-g</span> <span class="c"># 全局安装 将安装包放在 /usr/local 下或者你 node 的安装目录</span>
</code></pre></div></div>

<h4 id="查看">查看</h4>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 查看所有全局安装的包</span>
npm <span class="nb">ls</span> <span class="nt">-g</span>

<span class="c"># 查看本地项目中安装的包</span>
npm <span class="nb">ls</span>

<span class="c"># 查看包的 package.json文件</span>
npm view &lt;ModuleName&gt;

<span class="c"># 查看包的依赖关系</span>
npm view &lt;ModuleName&gt; dependencies

<span class="c"># 查看包的源文件地址</span>
npm view &lt;ModuleName&gt; repository.url

<span class="c"># 查看包所依赖的node版本</span>
npm view &lt;ModuleName&gt; engines

<span class="c"># 查看帮助</span>
npm <span class="nb">help</span>
</code></pre></div></div>

<h4 id="更新模块">更新模块</h4>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 更新本地模块</span>
npm update &lt;ModuleName&gt;

<span class="c"># 更新全局模块</span>
npm update <span class="nt">-g</span> &lt;ModuleName&gt; <span class="c"># 更新全局软件包。</span>
npm update <span class="nt">-g</span> <span class="c"># 更新所有的全局软件包。</span>
npm outdated <span class="nt">-g</span> <span class="nt">--depth</span><span class="o">=</span>0 <span class="c"># 找出需要更新的包。</span>
</code></pre></div></div>

<h4 id="卸载模块">卸载模块</h4>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 卸载本地模块</span>
npm uninstall &lt;ModuleName&gt;

<span class="c"># 卸载全局模块</span>
npm uninstall <span class="nt">-g</span> &lt;ModuleName&gt; <span class="c"># 卸载全局软件包。</span>
</code></pre></div></div>

<h4 id="清空缓存">清空缓存</h4>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 清空npm缓存</span>
npm cache clear
</code></pre></div></div>

<h4 id="使用淘宝镜像">使用淘宝镜像</h4>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 使用淘宝镜像</span>
npm <span class="nb">install</span> <span class="nt">-g</span> cnpm <span class="nt">--registry</span><span class="o">=</span>https://registry.npm.taobao.org
</code></pre></div></div>

<h4 id="其他">其他</h4>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 更改包内容后进行重建</span>
npm rebuild &lt;ModuleName&gt;

<span class="c"># 检查包是否已经过时，此命令会列出所有已经过时的包，可以及时进行包的更新</span>
npm outdated

<span class="c"># 访问npm的json文件，此命令将会打开一个网页</span>
npm <span class="nb">help </span>json

<span class="c"># 发布一个包的时候，需要检验某个包名是否存在</span>
npm search &lt;ModuleName&gt;

<span class="c"># 撤销自己发布过的某个版本代码</span>
npm unpublish &lt;package&gt; &lt;version&gt;
</code></pre></div></div>

<h2 id="使用技巧">使用技巧</h2>

<h4 id="多次安装不成功尝试先清除缓存">多次安装不成功尝试先清除缓存</h4>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm cache clean <span class="nt">-f</span>
</code></pre></div></div>

<h4 id="查看已安装的依赖包版本号">查看已安装的依赖包版本号</h4>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm <span class="nb">ls</span> &lt;ModuleName&gt;
</code></pre></div></div>

<blockquote>
  <p>注意：用此方法才能准确的知道项目使用的版本号，查看package.json时，有“^” 符号表示大于此版本</p>
</blockquote>

<h2 id="npm发布包教程">npm发布包教程</h2>

<p><a href="https://segmentfault.com/a/1190000017461666">npm发布包教程</a></p>

<h2 id="nrm的作用与使用">nrm的作用与使用</h2>

<h4 id="nrm是什么">nrm是什么？</h4>

<p>nrm(npm registry manager )是npm的镜像源管理工具，有时候国外资源太慢，使用这个就可以快速地在 npm 源间切换</p>

<h4 id="nrm的安装">nrm的安装</h4>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm <span class="nb">install</span> <span class="nt">-g</span> nrm
</code></pre></div></div>

<h4 id="nrm命令">nrm命令</h4>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>nrm <span class="nb">ls</span>　#查看可用的源（有<span class="k">*</span>号的表示当前所使用的源,以下&lt;registry&gt;表示源的名称）
nrm use &lt;registry&gt; <span class="c"># 将npm下载源切换成指定的源</span>
nrm add &lt;registry&gt; &lt;url&gt; <span class="c"># 添加源，url为源的路径</span>
nrm del &lt;registry&gt; <span class="c"># 删除源</span>
nrm <span class="nb">test</span> &lt;registry&gt; <span class="c"># 测试源的响应时间，可以作为使用哪个源的参考</span>

nrm <span class="nb">help</span>　# 查看nrm帮助
nrm home &lt;registry&gt;　# 跳转到指定源的官网
</code></pre></div></div>

<h4 id="nrm使用">nrm使用</h4>

<p>如果在你的网络不太理想或者受到其他网络限制导致不能使用npm原本的源进行下载时，nrm就非常有用了，你只需要：</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>nrm <span class="nb">ls</span> <span class="c"># 查看可用的源</span>
nrm use &lt;registry&gt;　# 切换到指定源
</code></pre></div></div>

