<h1 id="css3之animation动画">CSS3之animation动画</h1>

<blockquote>
  <p>可用<kbd>F12</kbd>开发者工具查看元素及样式，可打开codepen在线编辑代码。</p>
</blockquote>

<p>::: demo [vanilla]</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;html&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"animationBox"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"rotate"</span><span class="nt">&gt;</span>旋转动画1<span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"play"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"img"</span><span class="nt">&gt;</span>旋转动画2<span class="nt">&lt;/div&gt;</span>
      <span class="nt">&lt;span&gt;&lt;p</span> <span class="na">class=</span><span class="s">"p2"</span><span class="nt">&gt;&lt;/p&gt;&lt;/span&gt;</span>
      <span class="nt">&lt;span&gt;&lt;p&gt;&lt;/p&gt;&lt;/span&gt;</span>
      <span class="nt">&lt;span&gt;&lt;p&gt;&lt;/p&gt;&lt;/span&gt;</span>
      <span class="nt">&lt;span&gt;&lt;p</span> <span class="na">class=</span><span class="s">"p2"</span><span class="nt">&gt;&lt;/p&gt;&lt;/span&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"elasticity"</span><span class="nt">&gt;</span>弹性动画<span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"elasticity2"</span><span class="nt">&gt;</span>曲线弹性<span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/html&gt;</span>

<span class="nt">&lt;style&gt;</span>
  <span class="nc">.animationBox</span><span class="p">{</span><span class="nl">overflow</span><span class="p">:</span> <span class="nb">hidden</span><span class="p">;}</span>
  <span class="nc">.animationBox</span><span class="o">&gt;</span><span class="nt">div</span><span class="p">{</span>
    <span class="nl">width</span><span class="p">:</span> <span class="m">100px</span><span class="p">;</span><span class="nl">height</span><span class="p">:</span> <span class="m">100px</span><span class="p">;</span><span class="nl">background</span><span class="p">:</span> <span class="m">#eee</span><span class="p">;</span><span class="nl">border-radius</span><span class="p">:</span> <span class="m">50%</span><span class="p">;</span><span class="nl">text-align</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span><span class="nl">line-height</span><span class="p">:</span> <span class="m">100px</span><span class="p">;</span><span class="nl">margin</span><span class="p">:</span> <span class="m">30px</span><span class="p">;</span><span class="nl">float</span><span class="p">:</span><span class="nb">left</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="nc">.rotate</span><span class="p">{</span>
    <span class="nl">animation</span><span class="p">:</span> <span class="n">rotate</span> <span class="m">5s</span> <span class="n">linear</span> <span class="n">infinite</span>
  <span class="p">}</span>
  <span class="nc">.rotate</span><span class="nd">:hover</span><span class="p">{</span> <span class="nl">animation-play-state</span><span class="p">:</span> <span class="n">paused</span><span class="p">}</span>
  <span class="k">@keyframes</span> <span class="n">rotate</span> <span class="p">{</span>
    <span class="err">0</span><span class="o">%</span><span class="p">{</span><span class="nl">transform</span><span class="p">:</span> <span class="n">rotate</span><span class="p">(</span><span class="m">0</span><span class="p">);}</span>
  <span class="err">100</span><span class="o">%</span><span class="p">{</span><span class="nl">transform</span><span class="p">:</span> <span class="n">rotate</span><span class="p">(</span><span class="m">360deg</span><span class="p">);}</span>
  <span class="p">}</span>
  <span class="nc">.animationBox</span><span class="o">&gt;</span><span class="nc">.play</span> <span class="p">{</span>
    <span class="nl">position</span><span class="p">:</span> <span class="nb">relative</span><span class="p">;</span>
    <span class="nl">margin</span><span class="p">:</span> <span class="m">50px</span> <span class="m">30px</span><span class="p">;</span>
    <span class="nl">background</span><span class="p">:</span><span class="nb">none</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="nc">.play</span> <span class="nc">.img</span><span class="p">{</span>
    <span class="nl">position</span><span class="p">:</span> <span class="nb">absolute</span><span class="p">;</span>
    <span class="nl">top</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
    <span class="nl">left</span><span class="p">:</span><span class="m">0</span><span class="p">;</span>
    <span class="nl">z-index</span><span class="p">:</span> <span class="m">1</span><span class="p">;</span>
    <span class="nl">width</span><span class="p">:</span> <span class="m">100px</span><span class="p">;</span><span class="nl">height</span><span class="p">:</span> <span class="m">100px</span><span class="p">;</span> <span class="nl">background</span><span class="p">:</span> <span class="m">#eee</span><span class="p">;</span>
    <span class="nl">border-radius</span><span class="p">:</span> <span class="m">50%</span><span class="p">;</span>

    <span class="nl">animation</span><span class="p">:</span> <span class="n">rotate</span> <span class="m">5s</span> <span class="n">linear</span> <span class="n">infinite</span>
  <span class="p">}</span>
  <span class="nc">.play</span> <span class="nt">span</span> <span class="p">{</span>
    <span class="nl">position</span><span class="p">:</span> <span class="nb">absolute</span><span class="p">;</span>
    <span class="nl">top</span><span class="p">:</span> <span class="m">1px</span><span class="p">;</span>
    <span class="nl">left</span><span class="p">:</span><span class="m">1px</span><span class="p">;</span>
    <span class="nl">z-index</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
    <span class="nl">display</span><span class="p">:</span> <span class="nb">block</span><span class="p">;</span>
    <span class="nl">width</span><span class="p">:</span> <span class="m">96px</span><span class="p">;</span>
    <span class="nl">height</span><span class="p">:</span> <span class="m">96px</span><span class="p">;</span>
    <span class="nl">border</span><span class="p">:</span> <span class="m">1px</span> <span class="nb">solid</span> <span class="m">#999</span><span class="p">;</span>
    <span class="nl">border-radius</span><span class="p">:</span> <span class="m">50%</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="nc">.play</span> <span class="nt">span</span> <span class="nt">p</span><span class="p">{</span><span class="nl">display</span><span class="p">:</span> <span class="nb">block</span><span class="p">;</span><span class="nl">width</span><span class="p">:</span> <span class="m">4px</span><span class="p">;</span><span class="nl">height</span><span class="p">:</span> <span class="m">4px</span><span class="p">;</span><span class="nl">background</span><span class="p">:</span> <span class="m">#000</span><span class="p">;</span><span class="nl">margin</span><span class="p">:</span> <span class="m">-2px</span> <span class="m">0</span> <span class="m">0</span> <span class="m">50%</span><span class="p">;</span><span class="nl">border-radius</span><span class="p">:</span> <span class="m">50%</span><span class="p">;</span><span class="nl">opacity</span><span class="p">:</span> <span class="m">0.5</span><span class="p">;}</span>
  <span class="nc">.play</span> <span class="nt">span</span> <span class="nc">.p2</span><span class="p">{</span><span class="nl">margin</span><span class="p">:</span> <span class="m">50%</span> <span class="m">0</span> <span class="m">0</span> <span class="m">-2px</span><span class="p">;}</span>
  <span class="nc">.play</span> <span class="nt">span</span><span class="p">{</span>
    <span class="nl">animation</span><span class="p">:</span> <span class="n">wave</span> <span class="m">5s</span> <span class="n">linear</span> <span class="n">infinite</span>
  <span class="p">}</span>
  <span class="nc">.play</span><span class="o">&gt;</span><span class="nt">span</span><span class="nd">:nth-child</span><span class="o">(</span><span class="err">3</span><span class="o">)</span><span class="p">{</span>
    <span class="c">/* 延迟时间 */</span>
    <span class="nl">animation-delay</span><span class="p">:</span><span class="m">1s</span><span class="p">;</span> 
  <span class="p">}</span>
  <span class="nc">.play</span><span class="o">&gt;</span><span class="nt">span</span><span class="nd">:nth-child</span><span class="o">(</span><span class="err">4</span><span class="o">)</span><span class="p">{</span>
    <span class="nl">animation-delay</span><span class="p">:</span><span class="m">2.2s</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="nc">.play</span><span class="o">&gt;</span><span class="nt">span</span><span class="nd">:nth-child</span><span class="o">(</span><span class="err">5</span><span class="o">)</span><span class="p">{</span>
    <span class="nl">animation-delay</span><span class="p">:</span><span class="m">3.8s</span><span class="p">;</span>
  <span class="p">}</span>
  
  <span class="k">@keyframes</span> <span class="n">wave</span> <span class="p">{</span>
    <span class="err">0</span><span class="o">%</span>
    <span class="p">{</span>
      <span class="nl">transform</span><span class="p">:</span><span class="n">scale</span><span class="p">(</span><span class="m">1</span><span class="p">)</span> <span class="n">rotate</span><span class="p">(</span><span class="m">360deg</span><span class="p">);</span>
      <span class="nl">opacity</span><span class="p">:</span> <span class="m">0.8</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="err">100</span><span class="o">%</span>
    <span class="p">{</span>
      <span class="nl">transform</span><span class="p">:</span><span class="n">scale</span><span class="p">(</span><span class="m">1.8</span><span class="p">)</span> <span class="n">rotate</span><span class="p">(</span><span class="m">0deg</span><span class="p">);</span>
      <span class="nl">opacity</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>


  <span class="nc">.elasticity</span><span class="p">{</span>
    <span class="c">/* 参数说明
      动画名称 花费时间 贝塞尔曲线 延迟开始时间 播放次数n|infinite  是否反向播放动画
    */</span>
    <span class="nl">animation</span><span class="p">:</span> <span class="n">elasticity</span> <span class="m">1s</span> <span class="n">linear</span> <span class="m">2s</span> <span class="n">infinite</span>
  <span class="p">}</span>
  
  <span class="k">@keyframes</span> <span class="n">elasticity</span><span class="p">{</span>
    <span class="err">0</span><span class="o">%</span><span class="p">{</span>
      <span class="nl">transform</span><span class="p">:</span> <span class="n">scale</span><span class="p">(</span><span class="m">0</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="err">60</span><span class="o">%</span><span class="p">{</span>
      <span class="nl">transform</span><span class="p">:</span> <span class="n">scale</span><span class="p">(</span><span class="m">1.1</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="err">90</span><span class="o">%</span><span class="p">{</span>
      <span class="nl">transform</span><span class="p">:</span> <span class="n">scale</span><span class="p">(</span><span class="m">1</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
  

  <span class="nc">.elasticity2</span><span class="p">{</span>
    <span class="c">/**
    贝塞尔曲线 cubic-bezier(x1,y1,x2,y2)

    通过调整贝塞尔曲线可以设置出多种动画效果，比如反弹效果等
    X轴的范围是0~1，Y轴的取值没有规定，但是也不宜过大
    直线：linear，即cubic-bezier(0,0,1,1)

    贝塞尔曲线在线工具：https://cubic-bezier.com/#.17,.67,.83,.67
      */</span>
    <span class="nl">animation</span><span class="p">:</span> <span class="n">elasticity2</span> <span class="m">1s</span> <span class="n">cubic-bezier</span><span class="p">(</span><span class="m">.39</span><span class="p">,</span><span class="m">.62</span><span class="p">,</span><span class="m">.74</span><span class="p">,</span><span class="m">1.39</span><span class="p">)</span> <span class="m">2s</span> <span class="n">infinite</span>
  <span class="p">}</span>
  <span class="k">@keyframes</span> <span class="n">elasticity2</span><span class="p">{</span>
    <span class="err">0</span><span class="o">%</span><span class="p">{</span>
      <span class="nl">transform</span><span class="p">:</span> <span class="n">scale</span><span class="p">(</span><span class="m">0</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="err">90</span><span class="o">%</span><span class="p">{</span>
      <span class="nl">transform</span><span class="p">:</span> <span class="n">scale</span><span class="p">(</span><span class="m">1</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="nt">&lt;/style&gt;</span>
</code></pre></div></div>
<p>:::</p>

<h3 id="贝塞尔曲线-cubic-bezierx1y1x2y2">贝塞尔曲线 cubic-bezier(x1,y1,x2,y2)</h3>
<p>通过调整贝塞尔曲线可以设置出多种动画效果，比如反弹效果等 X轴的范围是0~1，Y轴的取值没有规定，但是也不宜过大。 如：直线linear，即cubic-bezier(0,0,1,1)</p>

<p>贝塞尔曲线在线工具：<a href="https://cubic-bezier.com/#.17,.67,.83,.67">https://cubic-bezier.com/#.17,.67,.83,.67</a></p>

<blockquote>
  <p>参考：<a href="https://www.w3school.com.cn/css3/index.asp">https://www.w3school.com.cn/css3/index.asp</a></p>
</blockquote>
